const a2_0x32ede8=a2_0xfb11;(function(_0x680363,_0x116c3f){const _0x15759e=a2_0xfb11,_0x25461a=_0x680363();while(!![]){try{const _0x289a36=-parseInt(_0x15759e(0xf5))/0x1*(-parseInt(_0x15759e(0xfb))/0x2)+-parseInt(_0x15759e(0xea))/0x3*(-parseInt(_0x15759e(0xfa))/0x4)+-parseInt(_0x15759e(0x116))/0x5*(-parseInt(_0x15759e(0xec))/0x6)+-parseInt(_0x15759e(0x104))/0x7*(parseInt(_0x15759e(0x11a))/0x8)+-parseInt(_0x15759e(0xd9))/0x9+-parseInt(_0x15759e(0x10c))/0xa+parseInt(_0x15759e(0xd7))/0xb;if(_0x289a36===_0x116c3f)break;else _0x25461a['push'](_0x25461a['shift']());}catch(_0x5451aa){_0x25461a['push'](_0x25461a['shift']());}}}(a2_0x3b56,0x482aa));var __awaiter=this&&this['__awaiter']||function(_0x391b27,_0x5fb074,_0x5bb0a3,_0x4cf3fc){function _0xfd95c1(_0x14cc3c){return _0x14cc3c instanceof _0x5bb0a3?_0x14cc3c:new _0x5bb0a3(function(_0x35427e){_0x35427e(_0x14cc3c);});}return new(_0x5bb0a3||(_0x5bb0a3=Promise))(function(_0x154eb9,_0x45082c){const _0x4c4f41=a2_0xfb11;function _0x13b8bd(_0x309765){const _0xc004da=a2_0xfb11;try{_0x19b146(_0x4cf3fc[_0xc004da(0xf2)](_0x309765));}catch(_0x508edd){_0x45082c(_0x508edd);}}function _0xe79ecb(_0x42e76b){const _0x290dc0=a2_0xfb11;try{_0x19b146(_0x4cf3fc[_0x290dc0(0xd4)](_0x42e76b));}catch(_0x48fe4e){_0x45082c(_0x48fe4e);}}function _0x19b146(_0x844860){const _0x2c69ba=a2_0xfb11;_0x844860[_0x2c69ba(0x106)]?_0x154eb9(_0x844860[_0x2c69ba(0x11e)]):_0xfd95c1(_0x844860[_0x2c69ba(0x11e)])[_0x2c69ba(0xe4)](_0x13b8bd,_0xe79ecb);}_0x19b146((_0x4cf3fc=_0x4cf3fc['apply'](_0x391b27,_0x5fb074||[]))[_0x4c4f41(0xf2)]());});};function a2_0x3b56(){const _0x4d6a18=['decode','removeEventListener','completed','next','handshakeStatus','parse','901wrShkS','readyState','splice','OPEN','onmessage','70088hRVqwn','1094TEiCjc','heartbeatInterval','sent-info','push','Attempted\x20to\x20remove\x20an\x20handler\x20for\x20','close','length','call','requestedDisconnected','574kkihzM','off','done','disconnect','reconnectTimeout','findIndex','addEventListener','includes','770600mAdVuC','requestId','open','slice','buffer','CONNECTING','arrayBuffer','heartbeatTimeout','stringify','handle','95eKFvmU','url','NaN','CLOSED','38008IINQIR','raise','byteLength','connecting','value','handlers','catch','onclose','encode','handshake','set','socket','string','handshakeData','The\x20WebSocketClass\x20isn\x27t\x20connected\x20or\x20is\x20already\x20trying\x20to\x20close\x20the\x20connection','checkHeartbeat','throw','The\x20WebSocketClass\x20is\x20already\x20connected','send','2141216EVdVGQ','WebSocket\x20is\x20not\x20available.\x20Please\x20install\x20the\x20\x27ws\x27\x20package\x20with\x20\x27npm\x20install\x20ws\x27','2288304iBXxYh','pendingRequests','WebSocket','status','error','onerror','The\x20WebSocketClass\x20is\x20not\x20connected','onopen','emit','undefined','reduce','then','byteOffset','isArray','CLOSING','Timeout','Unsupported\x20data\x20type','3vzXKVr','connect','98358xcRSAZ','closing','No\x20url\x20specified'];a2_0x3b56=function(){return _0x4d6a18;};return a2_0x3b56();}function a2_0xfb11(_0x579b64,_0x14bb3e){const _0x3b569b=a2_0x3b56();return a2_0xfb11=function(_0xfb1115,_0x13b223){_0xfb1115=_0xfb1115-0xd2;let _0x2418d0=_0x3b569b[_0xfb1115];return _0x2418d0;},a2_0xfb11(_0x579b64,_0x14bb3e);}let WebSocketClass;if(typeof WebSocket===a2_0x32ede8(0xe2))import('ws')[a2_0x32ede8(0xe4)](_0x535fde=>{const _0x347ae6=a2_0x32ede8;WebSocketClass=_0x535fde[_0x347ae6(0xdb)];})[a2_0x32ede8(0x120)](()=>{const _0x5b9749=a2_0x32ede8;throw new Error(_0x5b9749(0xd8));});else WebSocketClass=WebSocket;export default class Client{constructor(){const _0x1ad1d0=a2_0x32ede8;this[_0x1ad1d0(0xfc)]=0x5*0x3e8+0x1f4,this[_0x1ad1d0(0x108)]=null,this[_0x1ad1d0(0xf3)]='waiting',this[_0x1ad1d0(0x103)]=![],this['requestId']=0x1,this[_0x1ad1d0(0xda)]={},this['handlers']={},this[_0x1ad1d0(0xd3)]=()=>{const _0x3534c6=_0x1ad1d0;if(this[_0x3534c6(0x113)]!=undefined)clearTimeout(this['heartbeatTimeout']);this[_0x3534c6(0x113)]=setTimeout(()=>{const _0x49ba2f=_0x3534c6;var _0xbd1107;if(this[_0x49ba2f(0x125)]!=undefined&&this['socket'][_0x49ba2f(0xf6)]!==WebSocketClass[_0x49ba2f(0xf8)])return;(_0xbd1107=this[_0x49ba2f(0x125)])===null||_0xbd1107===void 0x0?void 0x0:_0xbd1107['close']();},this['heartbeatInterval']);};}['connect'](){return __awaiter(this,arguments,void 0x0,function*({url:_0x5eb74f,allowReject:_0x2e3ec3,handshakeData:_0x3846f1,reconnectTimeout:_0x4798d9}={}){return new Promise((_0x4610ba,_0x3babc0)=>{const _0xc9967f=a2_0xfb11;if(this[_0xc9967f(0x125)]!=undefined&&this[_0xc9967f(0x125)][_0xc9967f(0xf6)]===WebSocketClass[_0xc9967f(0xf8)]){if(_0x2e3ec3!==!![])_0x3babc0(new Error(_0xc9967f(0xd5)));else _0x4610ba();}this['socket']!=undefined&&(this[_0xc9967f(0x125)][_0xc9967f(0xe0)]=()=>{},this[_0xc9967f(0x125)][_0xc9967f(0xde)]=()=>{},this[_0xc9967f(0x125)]['onmessage']=()=>{},this[_0xc9967f(0x125)][_0xc9967f(0x121)]=()=>{},this[_0xc9967f(0xf3)]='waiting');if(this['url']==undefined&&_0x5eb74f==undefined)_0x3babc0(new Error(_0xc9967f(0xee)));this['url']=_0x5eb74f||this[_0xc9967f(0x117)];if(_0x4798d9!==undefined)this[_0xc9967f(0x108)]=_0x4798d9;if(_0x3846f1!==undefined)this[_0xc9967f(0x127)]=_0x3846f1;this[_0xc9967f(0x125)]=new WebSocketClass(this[_0xc9967f(0x117)]),this[_0xc9967f(0x125)][_0xc9967f(0xe0)]=_0x47b167=>{const _0x28dbe3=_0xc9967f;this['raise'](_0x28dbe3(0x10e),_0x47b167);},this[_0xc9967f(0x125)]['onerror']=_0x219aa1=>{const _0x46fbb5=_0xc9967f;this[_0x46fbb5(0x11b)](_0x46fbb5(0xdd),_0x219aa1);},this['socket'][_0xc9967f(0xf9)]=_0x1d7c9f=>{this['handle'](_0x1d7c9f),this['checkHeartbeat']();},this[_0xc9967f(0x125)][_0xc9967f(0x121)]=_0x3d573b=>{const _0x48157d=_0xc9967f;if(this[_0x48157d(0x113)]!=undefined)clearTimeout(this['heartbeatTimeout']);if(this[_0x48157d(0x108)]!=undefined&&!this[_0x48157d(0x103)])setTimeout(()=>this[_0x48157d(0xeb)](),this[_0x48157d(0x108)]);this[_0x48157d(0x103)]=![],this[_0x48157d(0x11b)](_0x48157d(0x100),_0x3d573b);};const _0xbda42a=()=>{_0x4610ba(),_0x47c79f();},_0x30efd0=_0x57d6fa=>{_0x2e3ec3?_0x3babc0(_0x57d6fa):_0x4610ba(),_0x47c79f();};this['socket'][_0xc9967f(0x10a)]('open',_0xbda42a,{'once':!![]}),this[_0xc9967f(0x125)]['addEventListener']('error',_0x30efd0,{'once':!![]});const _0x47c79f=()=>{const _0x3cc060=_0xc9967f;var _0xe086a3,_0x1003ba;(_0xe086a3=this[_0x3cc060(0x125)])===null||_0xe086a3===void 0x0?void 0x0:_0xe086a3[_0x3cc060(0xf0)](_0x3cc060(0x10e),_0xbda42a),(_0x1003ba=this[_0x3cc060(0x125)])===null||_0x1003ba===void 0x0?void 0x0:_0x1003ba['removeEventListener']('error',_0x30efd0);};});});}[a2_0x32ede8(0x107)](_0x5ebf2e,_0x3cb776){return __awaiter(this,void 0x0,void 0x0,function*(){return new Promise((_0x1ac187,_0x450a9e)=>{const _0x17ab96=a2_0xfb11;if(this['socket']==undefined||this[_0x17ab96(0x125)][_0x17ab96(0xf6)]===WebSocketClass[_0x17ab96(0xe7)]||this[_0x17ab96(0x125)]['readyState']===WebSocketClass[_0x17ab96(0x119)])return _0x450a9e(new Error(_0x17ab96(0xd2)));this[_0x17ab96(0x103)]=!![],this[_0x17ab96(0x125)]['close'](_0x5ebf2e,_0x3cb776);const _0x1ed347=()=>{_0x1ac187(),_0x404cde();},_0xf81cea=_0x5a8255=>{_0x450a9e(_0x5a8255),_0x404cde();};this[_0x17ab96(0x125)][_0x17ab96(0x10a)](_0x17ab96(0x100),_0x1ed347,{'once':!![]}),this[_0x17ab96(0x125)][_0x17ab96(0x10a)]('error',_0xf81cea,{'once':!![]});const _0x404cde=()=>{const _0x3ae695=_0x17ab96;var _0x4b5f49,_0x2c8511;(_0x4b5f49=this['socket'])===null||_0x4b5f49===void 0x0?void 0x0:_0x4b5f49[_0x3ae695(0xf0)]('close',_0x1ed347),(_0x2c8511=this[_0x3ae695(0x125)])===null||_0x2c8511===void 0x0?void 0x0:_0x2c8511[_0x3ae695(0xf0)](_0x3ae695(0xdd),_0xf81cea);};});});}get[a2_0x32ede8(0xdc)](){const _0x15938d=a2_0x32ede8;var _0x4a1959;switch((_0x4a1959=this[_0x15938d(0x125)])===null||_0x4a1959===void 0x0?void 0x0:_0x4a1959[_0x15938d(0xf6)]){case WebSocketClass[_0x15938d(0x111)]:return _0x15938d(0x11d);case WebSocketClass['OPEN']:return this[_0x15938d(0xf3)]==='completed'?'open':_0x15938d(0x123);case WebSocketClass[_0x15938d(0xe7)]:return _0x15938d(0xed);case WebSocketClass['CLOSED']:default:return'closed';}}[a2_0x32ede8(0xe1)](_0x1b7cce,_0x53facb,_0x126970,_0x4b8b59=0x5*0x3e8){const _0x16090a=a2_0x32ede8;if(this['socket']==undefined||this[_0x16090a(0xdc)]!==_0x16090a(0x10e))throw new Error(_0x16090a(0xdf));if([_0x16090a(0x123),'open',_0x16090a(0xdd),_0x16090a(0x100),'*']['includes'](_0x1b7cce))throw new Error('Cannot\x20emit\x20a\x20class\x20internal\x20event\x20as\x20handshake,\x20open,\x20error,\x20close\x20or\x20\x22*\x22');const _0x531ba2=new TextEncoder()[_0x16090a(0x122)](_0x1b7cce);if(_0x531ba2['length']>0xff)throw new Error('Event\x20name\x20too\x20long\x20(max\x20255\x20bytes)');const _0x5c3ddb=this['requestId'];if(_0x126970!=undefined){this[_0x16090a(0x10d)]=(this[_0x16090a(0x10d)]+0x1)%0x100;const _0x28e05f=setTimeout(()=>{const _0x25c341=_0x16090a;delete this[_0x25c341(0xda)][_0x5c3ddb],_0x126970(new Error(_0x25c341(0xe8)));},_0x4b8b59);this[_0x16090a(0xda)][_0x5c3ddb]=_0x492cd9=>{if(!(_0x492cd9 instanceof Error))clearTimeout(_0x28e05f);_0x126970(_0x492cd9);};}const _0x3904c9=this['encode'](_0x53facb),_0x4a01f5=new Uint8Array(0x2+(_0x126970==undefined?0x0:0x1)+_0x531ba2[_0x16090a(0x101)]+_0x3904c9[_0x16090a(0x101)]);_0x4a01f5[0x0]=_0x126970==undefined?0x2:0x3;if(_0x126970!=undefined)_0x4a01f5[0x1]=_0x5c3ddb;_0x4a01f5[0x1+(_0x126970!=undefined?0x1:0x0)]=_0x531ba2[_0x16090a(0x101)],_0x4a01f5[_0x16090a(0x124)](_0x531ba2,0x2+(_0x126970!=undefined?0x1:0x0)),_0x4a01f5[_0x16090a(0x124)](_0x3904c9,0x2+(_0x126970!=undefined?0x1:0x0)+_0x531ba2[_0x16090a(0x101)]),this[_0x16090a(0x125)][_0x16090a(0xd6)](_0x4a01f5);}[a2_0x32ede8(0x115)](_0x43ffb8){return __awaiter(this,arguments,void 0x0,function*({data:_0x3cf6d3}){const _0x18022d=a2_0xfb11;var _0x22536f,_0x1591d0,_0x1edc2d;let _0x45ab90=new Uint8Array();if(typeof _0x3cf6d3===_0x18022d(0x126))_0x45ab90=new TextEncoder()[_0x18022d(0x122)](_0x3cf6d3);else{if(_0x3cf6d3 instanceof ArrayBuffer)_0x45ab90=new Uint8Array(_0x3cf6d3);else{if(_0x3cf6d3 instanceof Blob)_0x45ab90=new Uint8Array(yield _0x3cf6d3[_0x18022d(0x112)]());else{if(typeof Buffer!==_0x18022d(0xe2)&&_0x3cf6d3 instanceof Buffer)_0x45ab90=new Uint8Array(_0x3cf6d3[_0x18022d(0x110)],_0x3cf6d3[_0x18022d(0xe5)],_0x3cf6d3[_0x18022d(0x11c)]);else{if(Array[_0x18022d(0xe6)](_0x3cf6d3)&&typeof Buffer!==_0x18022d(0xe2)){const _0x5a94aa=_0x3cf6d3[_0x18022d(0xe3)]((_0x106cbc,_0x32bc4a)=>_0x106cbc+_0x32bc4a['length'],0x0);_0x45ab90=new Uint8Array(_0x5a94aa);let _0x25d505=0x0;for(const _0x37af88 of _0x3cf6d3){_0x45ab90[_0x18022d(0x124)](new Uint8Array(_0x37af88[_0x18022d(0x110)],_0x37af88['byteOffset'],_0x37af88[_0x18022d(0x11c)]),_0x25d505),_0x25d505+=_0x37af88[_0x18022d(0x101)];}}else throw new Error(_0x18022d(0xe9));}}}}if(this[_0x18022d(0xf3)]==='waiting'){const {pingInterval:_0xbf37ec}=this['decode'](_0x45ab90);this[_0x18022d(0xfc)]=_0xbf37ec+0x1f4;const _0x44a7f8=this[_0x18022d(0x122)]((_0x22536f=this['handshakeData'])!==null&&_0x22536f!==void 0x0?_0x22536f:null);this[_0x18022d(0x125)]['send'](_0x44a7f8),this['handshakeStatus']=_0x18022d(0xfd);return;}if(this['handshakeStatus']===_0x18022d(0xfd)){this[_0x18022d(0xf3)]=_0x18022d(0xf1);return;}const _0x3b8474=_0x45ab90[0x0];switch(_0x3b8474){case 0x0:{this[_0x18022d(0xd3)](),_0x45ab90[0x0]=0x1,this[_0x18022d(0x125)][_0x18022d(0xd6)](_0x45ab90);break;}case 0x1:{break;}case 0x2:case 0x3:{const _0x4d3a1=_0x3b8474===0x2?Number[_0x18022d(0x118)]:_0x45ab90[0x1],_0x4deec0=_0x3b8474===0x2?0x0:0x1,_0x382df6=_0x45ab90[0x1+_0x4deec0],_0x40187f=new TextDecoder()['decode'](_0x45ab90[_0x18022d(0x10f)](0x2+_0x4deec0,0x2+_0x4deec0+_0x382df6));if(['handshake','open',_0x18022d(0xdd),'close','*'][_0x18022d(0x10b)](_0x40187f))return;const _0x1cc2f0=this[_0x18022d(0xef)](_0x45ab90[_0x18022d(0x10f)](0x2+_0x4deec0+_0x382df6)),_0x5b4dd7=(_0x1591d0=this[_0x18022d(0x11f)][_0x40187f])!==null&&_0x1591d0!==void 0x0?_0x1591d0:[];let _0x4bcf56=![];for(const _0x182e38 of _0x5b4dd7){const _0x4cfd62=_0x182e38[_0x18022d(0x102)](undefined,_0x1cc2f0);if(!_0x4bcf56&&_0x4cfd62!==undefined&&_0x4d3a1!==0x0){_0x4bcf56=!![];const _0x53eba8=new Uint8Array([0x4,_0x4d3a1]),_0xa33cf2=this[_0x18022d(0x122)](_0x4cfd62),_0x389513=new Uint8Array(_0x53eba8[_0x18022d(0x101)]+_0xa33cf2[_0x18022d(0x101)]);_0x389513[_0x18022d(0x124)](_0x53eba8,0x0),_0x389513[_0x18022d(0x124)](_0xa33cf2,_0x53eba8[_0x18022d(0x101)]),this[_0x18022d(0x125)][_0x18022d(0xd6)](_0x389513);}}const _0x58993c=(_0x1edc2d=this[_0x18022d(0x11f)]['*'])!==null&&_0x1edc2d!==void 0x0?_0x1edc2d:[];for(const _0x2af358 of _0x58993c)_0x2af358[_0x18022d(0x102)](undefined,_0x40187f,_0x1cc2f0);if(!_0x4bcf56&&_0x3b8474===0x3){}break;}case 0x4:{const _0x58f380=_0x45ab90[0x1],_0x444407=this[_0x18022d(0xda)][_0x58f380];if(_0x444407==undefined)return;const _0xccfb90=this[_0x18022d(0xef)](_0x45ab90[_0x18022d(0x10f)](0x2));_0x444407(_0xccfb90);break;}}});}[a2_0x32ede8(0x122)](_0x3e8153){const _0x1f55f4=a2_0x32ede8;return new TextEncoder()[_0x1f55f4(0x122)](JSON[_0x1f55f4(0x114)](_0x3e8153));}['decode'](_0x5359ed){const _0x2934cd=a2_0x32ede8;return JSON[_0x2934cd(0xf4)](new TextDecoder()[_0x2934cd(0xef)](_0x5359ed));}['on'](_0x3624c7,_0x4476ba){const _0x12f7d1=a2_0x32ede8;if(this['handlers'][_0x3624c7]==undefined)this[_0x12f7d1(0x11f)][_0x3624c7]=[];this[_0x12f7d1(0x11f)][_0x3624c7][_0x12f7d1(0xfe)](_0x4476ba);}[a2_0x32ede8(0x105)](_0x3b922d,_0x32a90c){const _0x310135=a2_0x32ede8;if(_0x32a90c==undefined){delete this[_0x310135(0x11f)][_0x3b922d];return;}const _0x3f91b1=this[_0x310135(0x11f)][_0x3b922d],_0x26db9c=(_0x3f91b1!==null&&_0x3f91b1!==void 0x0?_0x3f91b1:[])[_0x310135(0x109)](_0x2329e0=>_0x2329e0===_0x32a90c);if(_0x26db9c===-0x1)throw new Error(_0x310135(0xff)+_0x3b922d+'\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found');_0x3f91b1[_0x310135(0xf7)](_0x26db9c,0x1);}[a2_0x32ede8(0x11b)](_0x239d67,_0x2000e1){var _0x30d13f,_0x4bc84a;const _0x1149af=(_0x30d13f=this['handlers'][_0x239d67])!==null&&_0x30d13f!==void 0x0?_0x30d13f:[];for(const _0x5dcfe0 of _0x1149af)_0x5dcfe0(_0x2000e1);const _0x1c022c=(_0x4bc84a=this['handlers']['*'])!==null&&_0x4bc84a!==void 0x0?_0x4bc84a:[];for(const _0x344b8d of _0x1c022c)_0x344b8d(_0x239d67,_0x2000e1);}}