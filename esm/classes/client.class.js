const a2_0x1229ec=a2_0x3624;function a2_0x3624(_0x2e6e7b,_0x3b0036){const _0x1982c9=a2_0x1982();return a2_0x3624=function(_0x362438,_0x1abc6f){_0x362438=_0x362438-0x1db;let _0x1ebb87=_0x1982c9[_0x362438];return _0x1ebb87;},a2_0x3624(_0x2e6e7b,_0x3b0036);}(function(_0x4379c3,_0x5af5f9){const _0x30f7b6=a2_0x3624,_0x4ed18d=_0x4379c3();while(!![]){try{const _0x50854b=-parseInt(_0x30f7b6(0x1ff))/0x1+parseInt(_0x30f7b6(0x1e5))/0x2+-parseInt(_0x30f7b6(0x1ea))/0x3+-parseInt(_0x30f7b6(0x1dc))/0x4+parseInt(_0x30f7b6(0x1e4))/0x5*(-parseInt(_0x30f7b6(0x1e7))/0x6)+parseInt(_0x30f7b6(0x1fe))/0x7*(parseInt(_0x30f7b6(0x211))/0x8)+parseInt(_0x30f7b6(0x208))/0x9;if(_0x50854b===_0x5af5f9)break;else _0x4ed18d['push'](_0x4ed18d['shift']());}catch(_0x13e2e1){_0x4ed18d['push'](_0x4ed18d['shift']());}}}(a2_0x1982,0xe4677));var __awaiter=this&&this[a2_0x1229ec(0x1fc)]||function(_0xac39ac,_0x2558f9,_0x3dcf73,_0x1d8c5e){function _0x35a5af(_0x478e26){return _0x478e26 instanceof _0x3dcf73?_0x478e26:new _0x3dcf73(function(_0x8d6426){_0x8d6426(_0x478e26);});}return new(_0x3dcf73||(_0x3dcf73=Promise))(function(_0x5c09b5,_0x16b955){const _0xe504b2=a2_0x3624;function _0x569c58(_0x298193){const _0x18961c=a2_0x3624;try{_0x378cce(_0x1d8c5e[_0x18961c(0x1df)](_0x298193));}catch(_0x33c984){_0x16b955(_0x33c984);}}function _0x572670(_0x35e00a){const _0x11bc65=a2_0x3624;try{_0x378cce(_0x1d8c5e[_0x11bc65(0x1e2)](_0x35e00a));}catch(_0x168137){_0x16b955(_0x168137);}}function _0x378cce(_0xf4082d){const _0x272c06=a2_0x3624;_0xf4082d['done']?_0x5c09b5(_0xf4082d['value']):_0x35a5af(_0xf4082d[_0x272c06(0x1dd)])[_0x272c06(0x201)](_0x569c58,_0x572670);}_0x378cce((_0x1d8c5e=_0x1d8c5e['apply'](_0xac39ac,_0x2558f9||[]))[_0xe504b2(0x1df)]());});};function a2_0x1982(){const _0x2a5154=['pendingRequests','arrayBuffer','heartbeatTimeout','checkHeartbeat','connect','findIndex','removeEventListener','open','__awaiter','socket','4789337xWiwZC','368443AEaTij','CLOSED','then','heartbeatInterval','handle','status','stringify','reconnectTimeout','send','19341486BYheLd','set','connecting','raise','addEventListener','slice','emit','OPEN','handlers','16lLFhas','handshake','off','decode','onerror','push','The\x20WebSocket\x20is\x20already\x20connected','Unsupported\x20data\x20type','requestId','Event\x20name\x20too\x20long\x20(max\x20255\x20bytes)','The\x20WebSocket\x20isn\x27t\x20connected\x20or\x20is\x20already\x20trying\x20to\x20close\x20the\x20connection','string','5143560hXwLHs','value','url','next','onmessage','closed','throw','includes','45UeSoim','1136956GgWeIX','length','347370TbfgYz','Timeout','closing','2924949hYMlhf','splice','onclose','CLOSING','onopen','waitingForHandshake','close','encode','readyState','error'];a2_0x1982=function(){return _0x2a5154;};return a2_0x1982();}export default class Client{constructor(){const _0x11136f=a2_0x1229ec;this[_0x11136f(0x202)]=0x5*0x3e8+0x1f4,this[_0x11136f(0x206)]=null,this[_0x11136f(0x1ef)]=![],this[_0x11136f(0x219)]=0x1,this[_0x11136f(0x1f4)]={},this[_0x11136f(0x210)]={},this[_0x11136f(0x1f7)]=()=>{const _0x2e10c2=_0x11136f;if(this[_0x2e10c2(0x1f6)]!=undefined)clearTimeout(this[_0x2e10c2(0x1f6)]);this['heartbeatTimeout']=setTimeout(()=>{const _0x446ad9=_0x2e10c2;var _0x31f9a2;if(this[_0x446ad9(0x1fd)]==undefined||this[_0x446ad9(0x204)]!==_0x446ad9(0x1fb))return;(_0x31f9a2=this['socket'])===null||_0x31f9a2===void 0x0?void 0x0:_0x31f9a2[_0x446ad9(0x1f0)]();},this[_0x2e10c2(0x202)]);};}[a2_0x1229ec(0x1f8)](){const _0x2b8fa2=a2_0x1229ec;return __awaiter(this,arguments,void 0x0,function*(_0x3ce79b=this[_0x2b8fa2(0x1de)],{handshake:_0x33d403,reconnectTimeout:_0x131a55}={}){return new Promise((_0x591798,_0x5caa6c)=>{const _0x16821a=a2_0x3624;if(this[_0x16821a(0x1fd)]!=undefined&&this[_0x16821a(0x1fd)][_0x16821a(0x1f2)]===WebSocket['OPEN'])return _0x5caa6c(new Error(_0x16821a(0x217)));this[_0x16821a(0x1fd)]!=undefined&&(this[_0x16821a(0x1fd)]['onopen']=()=>{},this[_0x16821a(0x1fd)][_0x16821a(0x215)]=()=>{},this[_0x16821a(0x1fd)][_0x16821a(0x1e0)]=()=>{},this[_0x16821a(0x1fd)][_0x16821a(0x1ec)]=()=>{});if(this[_0x16821a(0x1de)]==undefined&&_0x3ce79b==undefined)return _0x5caa6c(new Error('No\x20url\x20specified'));this['url']=_0x3ce79b||this[_0x16821a(0x1de)];if(_0x131a55!==undefined)this[_0x16821a(0x206)]=_0x131a55;if(_0x33d403!==undefined)this[_0x16821a(0x212)]=_0x33d403;this[_0x16821a(0x1ef)]=!![],this[_0x16821a(0x1fd)]=new WebSocket(this[_0x16821a(0x1de)]),this['socket'][_0x16821a(0x1ee)]=_0x3c4f0e=>{const _0x5175f8=_0x16821a;this[_0x5175f8(0x20b)](_0x5175f8(0x1fb),_0x3c4f0e);},this[_0x16821a(0x1fd)][_0x16821a(0x215)]=_0x5434d3=>this[_0x16821a(0x20b)](_0x16821a(0x1f3),_0x5434d3),this['socket']['onmessage']=_0x5a3626=>this[_0x16821a(0x203)](_0x5a3626),this[_0x16821a(0x1fd)]['onclose']=_0xece3f1=>{const _0x53d308=_0x16821a;if(this[_0x53d308(0x1f6)]!=undefined)clearTimeout(this['heartbeatTimeout']);if(this[_0x53d308(0x206)]!=undefined)setTimeout(()=>this['connect'](),this[_0x53d308(0x206)]);this[_0x53d308(0x20b)](_0x53d308(0x1f0),_0xece3f1);};const _0x43c402=()=>{_0x591798(),_0x31777c();},_0x39cf4e=_0x5e90dc=>{_0x5caa6c(_0x5e90dc),_0x31777c();};this[_0x16821a(0x1fd)][_0x16821a(0x20c)](_0x16821a(0x1fb),_0x43c402,{'once':!![]}),this['socket'][_0x16821a(0x20c)]('error',_0x39cf4e,{'once':!![]});const _0x31777c=()=>{const _0x273a51=_0x16821a;var _0x9d14d8,_0xe09a1c;(_0x9d14d8=this[_0x273a51(0x1fd)])===null||_0x9d14d8===void 0x0?void 0x0:_0x9d14d8['removeEventListener'](_0x273a51(0x1fb),_0x43c402),(_0xe09a1c=this['socket'])===null||_0xe09a1c===void 0x0?void 0x0:_0xe09a1c[_0x273a51(0x1fa)](_0x273a51(0x1f3),_0x39cf4e);};});});}['disconnect'](){return __awaiter(this,arguments,void 0x0,function*(_0x55ac59=0x3e8,_0x26208d=''){return new Promise((_0x19e286,_0x52c975)=>{const _0x570c11=a2_0x3624;if(this['socket']==undefined||this[_0x570c11(0x1fd)][_0x570c11(0x1f2)]===WebSocket[_0x570c11(0x1ed)]||this[_0x570c11(0x1fd)][_0x570c11(0x1f2)]===WebSocket[_0x570c11(0x200)])return _0x52c975(new Error(_0x570c11(0x21b)));this[_0x570c11(0x1fd)]['close'](_0x55ac59,_0x26208d);const _0x2b2781=()=>{_0x19e286(),_0x1812b3();},_0x39bc05=_0x3536=>{_0x52c975(_0x3536),_0x1812b3();};this[_0x570c11(0x1fd)][_0x570c11(0x20c)]('close',_0x2b2781,{'once':!![]}),this['socket'][_0x570c11(0x20c)](_0x570c11(0x1f3),_0x39bc05,{'once':!![]});const _0x1812b3=()=>{const _0x5f3bc6=_0x570c11;var _0x5337c4,_0x481d54;(_0x5337c4=this[_0x5f3bc6(0x1fd)])===null||_0x5337c4===void 0x0?void 0x0:_0x5337c4[_0x5f3bc6(0x1fa)]('close',_0x2b2781),(_0x481d54=this[_0x5f3bc6(0x1fd)])===null||_0x481d54===void 0x0?void 0x0:_0x481d54[_0x5f3bc6(0x1fa)](_0x5f3bc6(0x1f3),_0x39bc05);};});});}get[a2_0x1229ec(0x204)](){const _0x20afcf=a2_0x1229ec;var _0x2caa35;switch((_0x2caa35=this[_0x20afcf(0x1fd)])===null||_0x2caa35===void 0x0?void 0x0:_0x2caa35[_0x20afcf(0x1f2)]){case WebSocket['CONNECTING']:return _0x20afcf(0x20a);case WebSocket[_0x20afcf(0x20f)]:return this[_0x20afcf(0x1ef)]?'handshake':_0x20afcf(0x1fb);case WebSocket[_0x20afcf(0x1ed)]:return _0x20afcf(0x1e9);case WebSocket[_0x20afcf(0x200)]:default:return _0x20afcf(0x1e1);}}[a2_0x1229ec(0x20e)](_0x1ed714,_0x47707c,_0x46bb74,_0x2dd755=0x5*0x3e8){const _0x1f7de4=a2_0x1229ec;if(this[_0x1f7de4(0x1fd)]==undefined||this['status']!=='open')throw new Error('The\x20WebSocket\x20is\x20not\x20connected');if(['handshake',_0x1f7de4(0x1fb),'error','close','*']['includes'](_0x1ed714))throw new Error('Cannot\x20emit\x20a\x20class\x20internal\x20event\x20as\x20handshake,\x20open,\x20error,\x20close\x20or\x20\x22*\x22');const _0x51513b=new TextEncoder()[_0x1f7de4(0x1f1)](_0x1ed714);if(_0x51513b[_0x1f7de4(0x1e6)]>0xff)throw new Error(_0x1f7de4(0x21a));const _0x26c7b0=_0x46bb74==undefined?0x0:this[_0x1f7de4(0x219)];if(_0x46bb74!=undefined){this[_0x1f7de4(0x219)]=(this[_0x1f7de4(0x219)]+0x1)%0x100||0x1;const _0x5b7294=setTimeout(()=>{const _0x238b86=_0x1f7de4;delete this['pendingRequests'][_0x26c7b0],_0x46bb74(new Error(_0x238b86(0x1e8)));},_0x2dd755);this[_0x1f7de4(0x1f4)][_0x26c7b0]=_0x3a51c0=>{clearTimeout(_0x5b7294),_0x46bb74(_0x3a51c0);};}const _0x41d920=this[_0x1f7de4(0x1f1)](_0x47707c),_0x2029fe=new Uint8Array(0x3+_0x51513b[_0x1f7de4(0x1e6)]+_0x41d920['length']);_0x2029fe[0x0]=0x2,_0x2029fe[0x1]=_0x26c7b0,_0x2029fe[0x2]=_0x51513b['length'],_0x2029fe[_0x1f7de4(0x209)](_0x51513b,0x3),_0x2029fe['set'](_0x41d920,0x3+_0x51513b['length']),this[_0x1f7de4(0x1fd)]['send'](_0x2029fe);}[a2_0x1229ec(0x203)](_0x514ab4){return __awaiter(this,arguments,void 0x0,function*({data:_0x3cddbf}){const _0x3d0549=a2_0x3624;var _0x874348,_0x4fbdc6;let _0x3c7e64;if(typeof _0x3cddbf===_0x3d0549(0x1db))_0x3c7e64=new TextEncoder()[_0x3d0549(0x1f1)](_0x3cddbf);else{if(_0x3cddbf instanceof Blob)_0x3c7e64=new Uint8Array(yield _0x3cddbf[_0x3d0549(0x1f5)]());else throw new Error(_0x3d0549(0x218));}if(this[_0x3d0549(0x1ef)]){const {pingInterval:_0x52761e}=this[_0x3d0549(0x214)](_0x3c7e64);this[_0x3d0549(0x202)]=_0x52761e+0x1f4;const _0x3b09e9=this[_0x3d0549(0x1f1)]((_0x874348=this[_0x3d0549(0x212)])!==null&&_0x874348!==void 0x0?_0x874348:null);this[_0x3d0549(0x1fd)][_0x3d0549(0x207)](_0x3b09e9),this['waitingForHandshake']=![];return;}const _0xeffcac=_0x3c7e64[0x0];switch(_0xeffcac){case 0x0:{_0x3c7e64[0x0]=0x1,this['socket'][_0x3d0549(0x207)](_0x3c7e64),this['checkHeartbeat']();break;}case 0x1:{break;}case 0x2:{const _0x18f7c1=_0x3c7e64[0x1],_0x2cfae4=_0x3c7e64[0x2],_0x395df5=new TextDecoder()['decode'](_0x3c7e64['slice'](0x3,0x3+_0x2cfae4));if([_0x3d0549(0x212),_0x3d0549(0x1fb),_0x3d0549(0x1f3),'close'][_0x3d0549(0x1e3)](_0x395df5))return;const _0x2d496d=this[_0x3d0549(0x214)](_0x3c7e64['slice'](0x3+_0x2cfae4)),_0x17f988=(_0x4fbdc6=this[_0x3d0549(0x210)][_0x395df5])!==null&&_0x4fbdc6!==void 0x0?_0x4fbdc6:[];let _0x29a7e3;for(const _0x2a5162 of _0x17f988){const _0x2e28ed=yield _0x2a5162['call'](undefined,_0x2d496d);if(_0x29a7e3===undefined)_0x29a7e3=_0x2e28ed;}if(_0x18f7c1!==0x0){const _0x15fb4d=this['encode'](_0x29a7e3!==null&&_0x29a7e3!==void 0x0?_0x29a7e3:null),_0x2e2466=new Uint8Array(0x2+_0x15fb4d[_0x3d0549(0x1e6)]);_0x2e2466[0x0]=0x3,_0x2e2466[0x1]=_0x18f7c1,_0x2e2466['set'](_0x15fb4d,0x2),this['socket'][_0x3d0549(0x207)](_0x2e2466);}break;}case 0x3:{const _0x241a1f=_0x3c7e64[0x1],_0x522263=this[_0x3d0549(0x1f4)][_0x241a1f];if(_0x522263==undefined)return;const _0x4cce4e=this['decode'](_0x3c7e64[_0x3d0549(0x20d)](0x2));_0x522263(_0x4cce4e);break;}}});}[a2_0x1229ec(0x1f1)](_0x128a80){const _0x3825fe=a2_0x1229ec;return new TextEncoder()[_0x3825fe(0x1f1)](JSON[_0x3825fe(0x205)](_0x128a80));}['decode'](_0x148cfb){return JSON['parse'](new TextDecoder()['decode'](_0x148cfb));}['on'](_0x2b8ca1,_0x4a1b4c){const _0x190b6f=a2_0x1229ec;if(this[_0x190b6f(0x210)][_0x2b8ca1]==undefined)this[_0x190b6f(0x210)][_0x2b8ca1]=[];this[_0x190b6f(0x210)][_0x2b8ca1][_0x190b6f(0x216)](_0x4a1b4c);}[a2_0x1229ec(0x213)](_0x52ae60,_0x545339){const _0x499500=a2_0x1229ec;if(_0x545339==undefined){delete this[_0x499500(0x210)][_0x52ae60];return;}const _0x58690a=this['handlers'][_0x52ae60],_0x3686cd=(_0x58690a!==null&&_0x58690a!==void 0x0?_0x58690a:[])[_0x499500(0x1f9)](_0x54b645=>_0x54b645===_0x545339);if(_0x3686cd===-0x1)throw new Error('Attempted\x20to\x20remove\x20an\x20handler\x20for\x20'+_0x52ae60+'\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found');_0x58690a[_0x499500(0x1eb)](_0x3686cd,0x1);}[a2_0x1229ec(0x20b)](_0x1cea65,_0x512bbd){const _0x380a5b=a2_0x1229ec;var _0x561c57;const _0x1434a4=(_0x561c57=this[_0x380a5b(0x210)][_0x1cea65])!==null&&_0x561c57!==void 0x0?_0x561c57:[];for(const _0x32c5c5 of _0x1434a4)_0x32c5c5(_0x512bbd);}}